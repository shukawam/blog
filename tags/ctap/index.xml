<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>CTAP on Shukawam's Daily Blog</title><link>https://shukawam.github.io/blog/tags/ctap/</link><description>Recent content in CTAP on Shukawam's Daily Blog</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Wed, 24 Mar 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://shukawam.github.io/blog/tags/ctap/index.xml" rel="self" type="application/rss+xml"/><item><title>WebAuthn DeepDive #1 - navigator.credentials.create()</title><link>https://shukawam.github.io/blog/blog/2021/0324-webauthn-deep-dive/</link><pubDate>Wed, 24 Mar 2021 00:00:00 +0000</pubDate><guid>https://shukawam.github.io/blog/blog/2021/0324-webauthn-deep-dive/</guid><description>始めに WebAuthn について学習したときのメモ。今回は、WebAuthnよりも CTAP の話が多めかも。
Deep Dive この辺の仕様を読んでいく。
※図はhttps://developer.mozilla.org/ja/docs/Web/API/Web_Authentication_APIから参照
全体の流れとしては、
navigator.credentials.create()が実行される authenticatorMakeCredential()を実行するためのパラメータを組み立てる 認証器のauthenticatorMakeCredential()が呼び出される authenticatorMakeCredential()を実行した結果がブラウザに返される となっています。WebAuthn が実行され、認証器のauthenticatorMakeCredential()が呼び出される所から順番に見ていきます。
2. navigator.credentials.create()の実行 navigator.credentials.create()が呼び出されると、認証器のauthenticatorMakeCredential()を実行するためのパラメータを組み立てて実行します。その際、authenticatorMakeCredential()実行のために必要なパラメータの仕様は、こちらに公開されています。一部抜粋して読んでいきたいと思います。(ひとまず今回は、Required のものだけ確認していきます)
パラメータ名 型 概要 clientDataHash Byte Array clientData のハッシュ rp PublicKeyCredentialRpEntity Relying Party の情報 user PublicKeyCredentialUserEntity 新しく生成する Credential に紐づくユーザーの情報 pubKeyCredParams CBOR Array 生成する Credential のパラメータ(type: public-keyで固定, alg: 公開鍵の暗号化アルゴリズム) clientDataHash Hash of the ClientData contextual binding specified by host.</description></item></channel></rss>