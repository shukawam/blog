<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ArgiCD on Shukawam's Daily Blog</title><link>https://shukawam.github.io/blog/tags/argicd/</link><description>Recent content in ArgiCD on Shukawam's Daily Blog</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Wed, 21 Jul 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://shukawam.github.io/blog/tags/argicd/index.xml" rel="self" type="application/rss+xml"/><item><title>Argo CD - Getting Started でちょっとハマったこと</title><link>https://shukawam.github.io/blog/blog/2021/0721-argocd-getting-started/</link><pubDate>Wed, 21 Jul 2021 00:00:00 +0000</pubDate><guid>https://shukawam.github.io/blog/blog/2021/0721-argocd-getting-started/</guid><description>始めに タイトルの通りです。Argo CD の Getting Started を実施した際のハマったことを書き起こしておきます。
何が起きたのか？ Argo CD の初期パスワード v1.9 以降 Kubernetes の secret に格納されているので確認するためには、kubectl で確認すればよい。
kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=&amp;#34;{.data.password}&amp;#34; | base64 -d が、確認したところ、argocd-initial-admin-secret なんて存在しないとエラーメッセージが出力された。(原因は不明です。ARM インスタンスだったから？)
kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=&amp;#34;{.data.password}&amp;#34; | base64 -d Error from server (NotFound): secrets &amp;#34;argocd-initial-admin-secret&amp;#34; not found 解決策 パスワードも Kubernetes のsecretで管理されているのでそれを単純に変更すればよい。
kubectl -n argocd patch secret argocd-secret \ &amp;gt; -p &amp;#39;{&amp;#34;stringData&amp;#34;: {&amp;#34;admin.password&amp;#34;: &amp;#34;$2a$10$qo3Q/Zt7UaYZgcapXCZ8jOdcnU1Z/PXe8Y4EG.JHiLZUCoBVQ9sFq&amp;#34;, &amp;#34;admin.passwordMtime&amp;#34;: &amp;#34;&amp;#39;$(date +%FT%T%Z)&amp;#39;&amp;#34;}}&amp;#39; secret/argocd-secret patched なお、パスワードは bcrypt でハッシュ化する必要があるので、この辺りのサイトを活用すると便利です。</description></item></channel></rss>