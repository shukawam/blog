+++
title = "WebAuthn4J Spring Securityを使って簡易認証アプリケーションを作ってみた"
description = ""
author = "Shuhei, Kawamura"
date = "2020-10-06"
tags = ["WebAuthn", "FIDO2", "Spring Boot", "Spring Security", "Angular"]
categories = ["tech"]
draft = "true"
[[images]]
  src = "img/2020/1006/main.jpg"
  alt = ""
  stretch = "stretchH"
+++

# 始めに

以前、FIDO2 の要素技術を学習するために、Web Authentication の仕様に基づいた認証サーバをフルスクラッチで作ったことがあるのですが、今回は作成者が JJUG CCC で紹介していた [WebAuthn4J](https://webauthn4j.github.io/webauthn4j/ja/)（正確には、WebAuthn4J Spring Security） を使用してサクッと作ってみたいと思います。

# 前提・ライブラリの紹介

詳細に説明するとそれだけで一つ以上の記事になりそうなので、詳細な説明は割愛します。

## FIDO2 について

- 業界団体 FIDO が推進する認証規格の一つ
- FIDO2 = WebAuthn + CTAP

## WebAuthn について

- FIDO 認証のサポートを可能にするためにブラウザおよびプラットフォームに組み込まれている標準 Web API のこと

## CTAP について

- Client to Authentication Protocol の略
- 名前の通り、クライアントと認証器の通信プロトコル

## WebAuthn4J について

[WebAuthn4J とは](https://webauthn4j.github.io/webauthn4j/ja/#webauthn4j%E3%81%A8%E3%81%AF)から引用しています。

> WebAuthn4J は、Web Authentication 仕様に基づくサーバーサイド検証を行うための Java ライブラリです。WebAuthn ではなく、FIDO CTAP2 セキュリティキーを用いた独自アプリケーションのサーバーサイド検証に用いることも可能です。 Web Authentication 仕様で定められた全ての構成証明ステートメント（Attestation）をサポートしながら、外部ライブラリへの依存関係は最小限に抑えたポータブルなライブラリです。

また、Spring Security を使用する場合は、WebAuthn4J のラッパーライブラリである[WebAuthn4J Spring Security](https://github.com/webauthn4j/webauthn4j-spring-security)を使用すると良いみたいです。

# 終わりに

# 参考

- [WebAuthn4J Reference](https://webauthn4j.github.io/webauthn4j/ja/)
