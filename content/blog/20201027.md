+++
title = "Helidon2に入門してみた"
description = ""
author = "Shuhei, Kawamura"
date = "2020-10-27"
tags = ["Helidon", "Java"]
categories = ["tech"]
draft = "true"
[[images]]
  src = "img/2020/1027/Primary_logo_blue.png"
  alt = "img.png"
  stretch = "stretchH"

+++

# 始めに

最近何かと耳にするようになった[Helidon](https://helidon.io/#/)のエントリー記事です。


# Helidonとは

後で書く（自分の知識の整理のためにも）



# 環境

- Ubuntu 20.04
- OpenJDK 11.0.8
- Maven 3.6.3



# Helidon CLIの導入

HelidonからCLIが提供されているのでそちらを使用したいと思います。（バイナリをダウンロードして、パスが通っているところに置けば大丈夫です。）

```
$ curl -O https://helidon.io/cli/latest/linux/helidon
$ chmod +x ./helidon
$ sudo mv ./helidon /usr/local/bin/
```



MacOSの方は、[インストールガイド](https://helidon.io/docs/latest/#/about/05_cli)を参照してください。（Windowsは、2020/10/27現在では対応されていないため、WSLを使うなり開発用のコンピュートインスタンスを建てるとよいでしょう。）



以下のように表示されれば、インストールは完了です。

```
$ helidon version
build.date              2020-10-16 14:51:33 PDT
build.version           2.1.2
build.revision          0b672147
latest.helidon.version  2.1.0
```



# ひな形を作成する

`helidon init`で対話形式で作成します。今回は、Helidon MPで検索系のAPIを作成するので以下のように入力してみました。

```
$ helidon init
Using Helidon version 2.1.0
Helidon flavor
  (1) SE 
  (2) MP 
Enter selection (Default: 1): 2
Select archetype
  (1) bare | Minimal Helidon MP project suitable to start from scratch 
  (2) quickstart | Sample Helidon MP project that includes multiple REST operations 
  (3) database | Helidon MP application that uses JPA with an in-memory H2 database 
Enter selection (Default: 1): 3
Project name (Default: database-mp): 
Project groupId (Default: me.shukawam-helidon): 
Project artifactId (Default: database-mp): 
Project version (Default: 1.0-SNAPSHOT): 
Java package name (Default: me.shukawam.mp.database): 
Switch directory to /home/shukawam/study/helidon/database-mp to use CLI

Start development loop? (Default: n):
```



作成が完了すると、以下のようなひな形が作成されます。

```
$ tree database-mp/
database-mp/
├── README.md
├── pom.xml
└── src
    ├── main
    │   ├── java
    │   │   └── me
    │   │       └── shukawam
    │   │           └── mp
    │   │               └── database
    │   │                   ├── Pokemon.java
    │   │                   ├── PokemonResource.java
    │   │                   ├── PokemonType.java
    │   │                   ├── PokemonTypeResource.java
    │   │                   └── package-info.java
    │   └── resources
    │       ├── META-INF
    │       │   ├── beans.xml
    │       │   ├── init_script.sql
    │       │   ├── microprofile-config.properties
    │       │   ├── native-image
    │       │   │   ├── native-image.properties
    │       │   │   └── reflect-config.json
    │       │   └── persistence.xml
    │       ├── hibernate.properties
    │       └── logging.properties
    └── test
        └── java
            └── me
                └── shukawam
                    └── mp
                        └── database
                            └── MainTest.java

16 directories, 16 files
```

何やらひな形を作成した時点で、すでにCRUD処理ができるAPI一式が作成されていそうです。

折角なので、生成されたソースコードを見てみます。







# 終わりに

# 参考