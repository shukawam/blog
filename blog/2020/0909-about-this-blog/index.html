<!doctype html><html lang=en-us><head><title>Hugo + GitHub Pagesでブログを始めた // Shukawam's Daily Blog</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.74.2"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Shuhei Kawamura"><meta name=description content><link rel=stylesheet href=https://shukawam.github.io/blog/css/main.min.092b4a6fcfea61e9e30ab192a05fd3f263897fd9efe9949d88c2e4b31841c30e.css><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content><meta name=twitter:title content="Hugo + GitHub Pagesでブログを始めた"><meta name=twitter:description content="始めに つい先日、Qiita からはてなブログに移行したばかりだったのですが、個人的に何点か気に食わない点があったので自分で作って運用してみることにしました。 この記事は実際にブログを作ってみた時のお話です。
このブログについて 環境  静的サイトジェネレーター：Hugo Static Site Generator v0.74.3 運用（ホスティング）：GitHub Pages  という環境で、作成し運用されています。
選定理由 いくつか背景があるので、順にお話します。
Qiita, はてなブログじゃダメだった理由 Markdown で記載できるブログあるあるだと思うのですが、とにかく画像のアップロードがめんどくさい。他にも、デザインが気に食わなかったりなど細かい理由はありますが、理由の 9 割はこれでした。自分のメモ、ついでに外部発信くらいと考えてる人にとってはなるべく省エネで執筆したかったのです。
静的サイトジェネレーター このブログは、Golang 謹製のHugoを使用して作成しています。Hugo 以外の有名どころだと、Gatsby, Hexo, Jekyll etc &mldr; 辺りがありますが、正直何でも良かったです。環境構築が非常に楽という噂を聞きつけたので、Hugo を採用しました。（他のものは試してすらないです）実際、私の PC は Windows 10 なのですが、環境構築～このブログを作成するまで 1 時間程度でできました。
ホスティング先 ホスティング先には、いくつか条件がありました。
 無料で運用できること インフラ（サーバ）の面倒を見なくてもいいこと  これらを加味した結果、ホスティング先は GitHub Pages or GitLab Pages に絞られました。最初は、Hugo によって生成されるコンテンツを管理したくなかったので、GitLab Pages にしようと思っていましたが、個人的に GitLab から GitHub に移行したばかりだったので少し微妙だなと思ったことをツイートしたのですが、こんな回答をいただけました。
docs/ を管理する方法以外に、任意のブランチをデプロイに使う方法があります。参考になれば幸いです。
> Deploy Hugo site to GitHub Pages with GitHub Actionshttps://t."><meta property="og:title" content="Hugo + GitHub Pagesでブログを始めた"><meta property="og:description" content="始めに つい先日、Qiita からはてなブログに移行したばかりだったのですが、個人的に何点か気に食わない点があったので自分で作って運用してみることにしました。 この記事は実際にブログを作ってみた時のお話です。
このブログについて 環境  静的サイトジェネレーター：Hugo Static Site Generator v0.74.3 運用（ホスティング）：GitHub Pages  という環境で、作成し運用されています。
選定理由 いくつか背景があるので、順にお話します。
Qiita, はてなブログじゃダメだった理由 Markdown で記載できるブログあるあるだと思うのですが、とにかく画像のアップロードがめんどくさい。他にも、デザインが気に食わなかったりなど細かい理由はありますが、理由の 9 割はこれでした。自分のメモ、ついでに外部発信くらいと考えてる人にとってはなるべく省エネで執筆したかったのです。
静的サイトジェネレーター このブログは、Golang 謹製のHugoを使用して作成しています。Hugo 以外の有名どころだと、Gatsby, Hexo, Jekyll etc &mldr; 辺りがありますが、正直何でも良かったです。環境構築が非常に楽という噂を聞きつけたので、Hugo を採用しました。（他のものは試してすらないです）実際、私の PC は Windows 10 なのですが、環境構築～このブログを作成するまで 1 時間程度でできました。
ホスティング先 ホスティング先には、いくつか条件がありました。
 無料で運用できること インフラ（サーバ）の面倒を見なくてもいいこと  これらを加味した結果、ホスティング先は GitHub Pages or GitLab Pages に絞られました。最初は、Hugo によって生成されるコンテンツを管理したくなかったので、GitLab Pages にしようと思っていましたが、個人的に GitLab から GitHub に移行したばかりだったので少し微妙だなと思ったことをツイートしたのですが、こんな回答をいただけました。
docs/ を管理する方法以外に、任意のブランチをデプロイに使う方法があります。参考になれば幸いです。
> Deploy Hugo site to GitHub Pages with GitHub Actionshttps://t."><meta property="og:type" content="article"><meta property="og:url" content="https://shukawam.github.io/blog/blog/2020/0909-about-this-blog/"><meta property="og:image" content><meta property="article:published_time" content="2020-09-08T00:00:00+00:00"><meta property="article:modified_time" content="2020-09-08T00:00:00+00:00"></head><body><header class=app-header><a href=https://shukawam.github.io/blog><img class=app-header-avatar src=/blog/img/main/shukawam.jpg alt="Shuhei Kawamura"></a><h1>Shukawam's Daily Blog</h1><nav class=app-header-menu><a class=app-header-menu-item href=/blog/>Home</a>
-
<a class=app-header-menu-item href=/blog/tags/>Tags</a></nav><p>I'm Solutions Engineer at Oracle Japan. These articles are just my opinions.</p><div class=app-header-social><a href=https://github.com/shukawam target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>Github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://twitter.com/shukawam target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>Twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>Hugo + GitHub Pagesでブログを始めた</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Sep 8, 2020</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>2 min read</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><a class=tag href=https://shukawam.github.io/blog/tags/hugo/>hugo</a>
<a class=tag href=https://shukawam.github.io/blog/tags/github/>github</a></div></div></header><div class=post-content><h1 id=始めに>始めに</h1><p>つい先日、Qiita からはてなブログに移行したばかりだったのですが、個人的に何点か気に食わない点があったので自分で作って運用してみることにしました。
この記事は実際にブログを作ってみた時のお話です。</p><h1 id=このブログについて>このブログについて</h1><h2 id=環境>環境</h2><ul><li>静的サイトジェネレーター：<a href=https://gohugo.io/>Hugo Static Site Generator</a> v0.74.3</li><li>運用（ホスティング）：GitHub Pages</li></ul><p>という環境で、作成し運用されています。</p><h2 id=選定理由>選定理由</h2><p>いくつか背景があるので、順にお話します。</p><h3 id=qiita-はてなブログじゃダメだった理由>Qiita, はてなブログじゃダメだった理由</h3><p>Markdown で記載できるブログあるあるだと思うのですが、<strong>とにかく画像のアップロードがめんどくさい</strong>。他にも、デザインが気に食わなかったりなど細かい理由はありますが、理由の 9 割はこれでした。自分のメモ、ついでに外部発信くらいと考えてる人にとってはなるべく省エネで執筆したかったのです。</p><h3 id=静的サイトジェネレーター>静的サイトジェネレーター</h3><p>このブログは、Golang 謹製の<a href=https://gohugo.io/>Hugo</a>を使用して作成しています。Hugo 以外の有名どころだと、Gatsby, Hexo, Jekyll etc &mldr; 辺りがありますが、正直何でも良かったです。環境構築が非常に楽という噂を聞きつけたので、Hugo を採用しました。（他のものは試してすらないです）実際、私の PC は Windows 10 なのですが、環境構築～このブログを作成するまで 1 時間程度でできました。</p><h3 id=ホスティング先>ホスティング先</h3><p>ホスティング先には、いくつか条件がありました。</p><ul><li>無料で運用できること</li><li>インフラ（サーバ）の面倒を見なくてもいいこと</li></ul><p>これらを加味した結果、ホスティング先は GitHub Pages or GitLab Pages に絞られました。最初は、Hugo によって生成されるコンテンツを管理したくなかったので、GitLab Pages にしようと思っていましたが、個人的に GitLab から GitHub に移行したばかりだったので少し微妙だなと思ったことをツイートしたのですが、こんな回答をいただけました。</p><blockquote class=twitter-tweet><p lang=ja dir=ltr>docs/ を管理する方法以外に、任意のブランチをデプロイに使う方法があります。参考になれば幸いです。<br>> Deploy Hugo site to GitHub Pages with GitHub Actions<a href=https://t.co/NCVgnMOonq>https://t.co/NCVgnMOonq</a></p>&mdash; peaceiris (@piris314) <a href="https://twitter.com/piris314/status/1302572704789270529?ref_src=twsrc%5Etfw">September 6, 2020</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script><p>どうやら、Hugo で生成されるファイル群をバージョン管理する方法ではなく、GitHub Actinos で静的ファイルを任意のブランチに生成し、そのブランチを GitHub Pages へデプロイするという方法があるようです。</p><h1 id=ブログの作り方>ブログの作り方</h1><p>前置きが長くなってしまいましたが、当ブログの作り方を簡単に説明したいと思います。</p><ul><li>省エネ、基本的に無料でブログを書きたい人</li><li>自分でデザインしないと満足できない人</li></ul><p>には、お勧めできる方法だと思います。尚、テーマのカスタマイズや自作方法については当記事では触れないので悪しからず。</p><h2 id=環境構築>環境構築</h2><p>Windows 10 を使用しています。Chocolatey, Scoop といったパッケージマネージャーを使用する方法と zip を展開してパスを通す方法がありますが、今回紹介するのは後者の方法です。</p><p><a href=https://github.com/gohugoio/hugo/releases>https://github.com/gohugoio/hugo/releases</a>から最新版の zip ファイルをダウンロードし適用なディレクトリに解凍します。</p><p>同じバージョンでも通常版（hugo）と Extended 版（hugo_extended）と 2 種類ありますが、後ほど紹介する公開されているテーマを使用する場合は<strong>Extended 版</strong>の方を選択してください。（Extended 版の方は、SASS/SCSS が使用できます。公開されているテーマで SASS/SCSS が使用されている場合、通常の hugo ではエラーが発生し静的ファイルの生成ができません。）</p><p>次に、パスを通します。システム環境変数から<code>Path</code>を選択し、先ほど解凍したディレクトリを指定します。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ hugo version
Hugo Static Site Generator v0.74.3/extended windows/amd64 BuildDate: unknown
</code></pre></div><p>この様に表示されれば、環境構築は完了です。</p><h2 id=ブログを生成する>ブログを生成する</h2><p>適当なディレクトリで以下のように入力する。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ hugo new site blog
Congratulations! Your new Hugo site is created in C:<span style=color:#ae81ff>\G</span>it<span style=color:#ae81ff>\t</span>est<span style=color:#ae81ff>\b</span>log.

Just a few more steps and you<span style=color:#960050;background-color:#1e0010>&#39;</span>re ready to go:

1. Download a theme into the same-named folder.
   Choose a theme from https://themes.gohugo.io/ or
   create your own with the <span style=color:#e6db74>&#34;hugo new theme &lt;THEMENAME&gt;&#34;</span> command.
2. Perhaps you want to add some content. You can add single files
   with <span style=color:#e6db74>&#34;hugo new &lt;SECTIONNAME&gt;\&lt;FILENAME&gt;.&lt;FORMAT&gt;&#34;</span>.
3. Start the built-in live server via <span style=color:#e6db74>&#34;hugo server&#34;</span>.

Visit https://gohugo.io/ <span style=color:#66d9ef>for</span> quickstart guide and full documentation.
</code></pre></div><h3 id=テーマを選定する>テーマを選定する</h3><p><a href=https://themes.gohugo.io/>https://themes.gohugo.io/</a>にいい感じのテーマが沢山あるので好きなものを選びます。（ここでは仮に、<a href=https://themes.gohugo.io/hugo-future-imperfect-slim/>Hugo Future Imperfect Slim</a>を選択したとする）Download ボタンを押すと、<a href=https://github.com/pacollins/hugo-future-imperfect-slim>GitHub のリポジトリトップ</a>に遷移するので、README を読みながら設定を進めます。</p><h3 id=テーマのインストール>テーマのインストール</h3><p>テーマは Git の Submodule として管理するのが主流みたいです。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cd blog/themes
$ git submodule add https://github.com/pacollins/hugo-future-imperfect-slim.git
$ git submodule update --remote --merge
</code></pre></div><h3 id=設定ファイルをコピーし修正する>設定ファイルをコピーし修正する</h3><p>サンプルサイトの設定ファイル（<code>config.toml, staticman.yml</code>）を自サイトのルートにコピーします。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cp ./hugo-future-imperfect-slim/exampleSite/config.toml ../
$ cp ./hugo-future-imperfect-slim/exampleSite/staticman.yml ../
</code></pre></div><p>この手の設定は、自分で動かしながら変えていくのが手っ取り早いかなと思いました。（分からない所だけドキュメントを参照する）</p><h2 id=github-pages-で公開する>GitHub Pages で公開する</h2><p><code>.github/workflows/gh-pages.yml</code>を作成する。詳細な説明は、<a href=https://github.com/peaceiris/actions-hugo>リポジトリ</a>を参照してください。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#66d9ef>name</span>: github pages

<span style=color:#66d9ef>on</span>:
  <span style=color:#66d9ef>push</span>:
    <span style=color:#66d9ef>branches</span>:
      - master <span style=color:#75715e># Set a branch to deploy</span>

<span style=color:#66d9ef>jobs</span>:
  <span style=color:#66d9ef>deploy</span>:
    <span style=color:#66d9ef>runs-on</span>: ubuntu<span style=color:#ae81ff>-18.04</span>
    <span style=color:#66d9ef>steps</span>:
      - <span style=color:#66d9ef>uses</span>: actions/checkout@v2
        <span style=color:#66d9ef>with</span>:
          <span style=color:#66d9ef>submodules</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># Fetch Hugo themes (true OR recursive)</span>
          <span style=color:#66d9ef>fetch-depth</span>: <span style=color:#ae81ff>0</span> <span style=color:#75715e># Fetch all history for .GitInfo and .Lastmod</span>

      - <span style=color:#66d9ef>name</span>: Setup Hugo
        <span style=color:#66d9ef>uses</span>: peaceiris/actions-hugo@v2
        <span style=color:#66d9ef>with</span>:
          <span style=color:#66d9ef>hugo-version</span>: <span style=color:#e6db74>&#34;0.74.2&#34;</span>
          <span style=color:#66d9ef>extended</span>: <span style=color:#66d9ef>true</span>

      - <span style=color:#66d9ef>name</span>: Build
        <span style=color:#66d9ef>run</span>: hugo --minify

      - <span style=color:#66d9ef>name</span>: Deploy
        <span style=color:#66d9ef>uses</span>: peaceiris/actions-gh-pages@v3
        <span style=color:#66d9ef>with</span>:
          <span style=color:#66d9ef>github_token</span>: ${{ secrets.GITHUB_TOKEN }}
          <span style=color:#66d9ef>publish_dir</span>: ./docs
</code></pre></div><p>後は、master に push すれば<code>https://&lt;github username>.github.io/&lt;repository name></code>として公開されます！</p><h1 id=終わりに>終わりに</h1><p>細かい個所などは紹介できていないので、詳細が気になる方は<a href=https://github.com/shukawam/blog>リポジトリ</a>を参照してください。</p><h1 id=参考>参考</h1><ul><li><a href=https://gohugo.io/>https://gohugo.io/</a></li><li><a href=https://github.com/peaceiris/actions-hugo>https://github.com/peaceiris/actions-hugo</a></li><li><a href=https://github.com/shukawam/blog>https://github.com/shukawam/blog</a></li></ul></div><div class=post-footer></div></article></main></body></html>